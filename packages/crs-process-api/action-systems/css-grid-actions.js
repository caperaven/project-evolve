class p{static async perform(e,s,t,a){await this[e.action](e,s,t,a)}static async init(e,s,t,a){const n=await crs.dom.get_element(e.args.element);n.style.display="grid"}static async enable_resize(e,s,t,a){const n=await crs.dom.get_element(e.args.element,s,t,a),l=await crs.process.getValue(e.args.options,s,t,a),r=await import("./managers/grid-resize-manager.js");await new r.CSSGridResizeManager(n,l).initialize()}static async disable_resize(e,s,t,a){(await crs.dom.get_element(e.args.element,s,t,a)).__cssGridResizeMananger?.dispose()}static async auto_fill(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=await crs.process.getValue(e.args.columns,s,t,a),r=await crs.process.getValue(e.args.rows,s,t,a);await this.init(e,s,t,a),await this.set_columns(e,s,t,a),await this.set_rows(e,s,t,a);const i=l.split(" ").length,m=r.split(" ").length*i;for(let g=0;g<m;g++)await crs.call("dom","create_element",{parent:n,tag_name:"div",dataset:{id:g},styles:{border:"1px solid silver"},classes:["grid-cell"]}),await crs.call("dom","set_css_variable",{element:n,varRoot:"--grid-cell",rootStyle:"cell"+g})}static async set_columns(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=await crs.process.getValue(e.args.columns,s,t,a);n.style.gridTemplateColumns=l}static async set_rows(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=await crs.process.getValue(e.args.rows,s,t,a);n.style.gridTemplateRows=l}static async add_columns(e,s,t,a){await f(e,s,t,a,"gridTemplateColumns","width")}static async remove_columns(e,s,t,a){await y(e,s,t,a,"gridTemplateColumns")}static async set_column_width(e,s,t,a){await _(e,s,t,a,"gridTemplateColumns","width")}static async add_rows(e,s,t,a){await f(e,s,t,a,"gridTemplateRows","height")}static async remove_rows(e,s,t,a){await y(e,s,t,a,"gridTemplateRows")}static async set_row_height(e,s,t,a){await _(e,s,t,a,"gridTemplateRows","height")}static async set_regions(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=await crs.process.getValue(e.args.areas,s,t,a),r=await crs.process.getValue(e.args.auto_fill,s,t,a)||!1,i=await C(n);let c=[];for(let g of l)h(i,g),c.push(g.name);let m=[];for(let g of i)m.push(`"${g.join(" ")}"`);if(n.style.gridTemplateAreas=m.join(" "),r==!0){const g=await crs.process.getValue(e.args.tag_name,s,t,a)||"div";for(const u of c)await crs.call("dom","create_element",{parent:n,tag_name:g,dataset:{area:u},styles:{gridArea:u}})}}static async clear_region(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=await crs.process.getValue(e.args.area,s,t,a),r=n.querySelectorAll(`[data-area="${l}"]`);for(const i of r)i.parentElement.removeChild(i)}static async column_count(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=w(n);return e.args.result!=null&&await crs.process.setValue(e.args.result,l,s,t,a),l}static async row_count(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=d(n);return e.args.result!=null&&await crs.process.setValue(e.args.result,l,s,t,a),l}static async get_column_sizes(e,s,t,a){const n=await crs.dom.get_element(e.args.element),l=getComputedStyle(n).gridTemplateColumns.split("px").join("").split(" ");for(let r=0;r<l.length;r++)l[r]=Number(l[r]);return e.args.result!=null&&await crs.process.setValue(e.args.result,l,s,t,a),l}}function h(o,e){for(let s=e.start.row;s<=e.end.row;s++)for(let t=e.start.col;t<=e.end.col;t++)o[s][t]=e.name}function w(o){return o.style.gridTemplateColumns.split(" ").length}function d(o){return o.style.gridTemplateRows.split(" ").length}async function C(o){const e=w(o),s=d(o);let t=[];for(let a=0;a<s;a++){t[a]=[];for(let n=0;n<e;n++)t[a][n]="."}return t}async function _(o,e,s,t,a,n){const l=await crs.dom.get_element(o.args.element);let r=l.style[a].split(" ");if(r.length==0)return;let i=await crs.process.getValue(o.args[n],e,s,t);const c=await crs.process.getValue(o.args.position,e,s,t);r[c]=i,l.style[a]=r.join(" ")}async function f(o,e,s,t,a,n){const l=await crs.dom.get_element(o.args.element);let r=l.style[a].split(" ");if(r.length==0)return;let i=await crs.process.getValue(o.args[n],e,s,t),c=await crs.process.getValue(o.args.position,e,s,t);c==null&&(c="end"),Array.isArray(i)==!1&&(i=[i]),c=="front"?r=[...i,...r]:c=="end"?r.push(...i):r.splice(c,0,...i),l.style[a]=r.join(" ")}async function y(o,e,s,t,a){const n=await crs.dom.get_element(o.args.element);let l=n.style[a].split(" ");if(l.length==0)return;const r=await crs.process.getValue(o.args.position,e,s,t)||"end",i=await crs.process.getValue(o.args.count,e,s,t)||1;r=="front"?l.splice(0,i):r=="end"?l.splice(l.length-i,i):l.splice(r,i),n.style[a]=l.join(" ")}crs.intent.cssgrid=p;export{p as CssGridActions};
